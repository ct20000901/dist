(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-389ddc55"],{"59d6":function(t,e,a){"use strict";var i=a("ca66"),r=a.n(i);r.a},a393:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"back"},[a("v-app-bar",{attrs:{app:"",elevation:"2",color:"#333744",dark:""}},[a("v-app-bar-nav-icon",{on:{click:function(e){return t.goback()}}},[a("v-icon",{domProps:{innerHTML:t._s("mdi-arrow-left")}})],1),a("v-toolbar-title",[a("span",{staticClass:"pr-8"},[t._v("编辑科研成果")])]),a("v-spacer")],1),a("v-content",{staticStyle:{"min-height":"calc(100vh - 64px)"}},[a("v-container",[a("v-card",{staticClass:"mx-auto mb-12 mt-6",attrs:{"max-width":"1000","min-height":"2850"}},[a("v-form",{staticClass:"pl-8",attrs:{model:t.form}},[a("div",{staticClass:"pt-8"},[a("v-icon",[t._v("mdi-tag")]),a("span",{staticClass:"ml-3"},[t._v("项目名称")])],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-text-field",{attrs:{required:"",placeholder:"请输入项目名称，20个字以内",rules:[function(t){return!!t||"项目名称为必填项"}]},model:{value:t.form.entryname,callback:function(e){t.$set(t.form,"entryname",e)},expression:"form.entryname"}})],1),a("div",{staticClass:"pt-8"},[a("v-icon",[t._v("mdi-card-account-details")]),a("span",{staticClass:"ml-3"},[t._v("成果负责人")])],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-text-field",{attrs:{required:"",placeholder:"请输入成果负责人姓名",rules:[function(t){return!!t||"成果负责人姓名为必填项"}]},model:{value:t.form.charge,callback:function(e){t.$set(t.form,"charge",e)},expression:"form.charge"}}),a("v-text-field",{attrs:{required:"",placeholder:"请输入成果负责人职称信息",rules:[function(t){return!!t||"成果负责人职称信息为必填项"}]},model:{value:t.form.position,callback:function(e){t.$set(t.form,"position",e)},expression:"form.position"}})],1),a("div",{staticClass:"mt-5"},[a("v-icon",[t._v("mdi-clipboard-text")]),a("span",{staticClass:"ml-3"},[t._v("科研成果介绍")])],1),a("v-col",{attrs:{cols:"12",sm:"8"}},[a("v-textarea",{attrs:{filled:"",placeholder:"请输入科研成果简介，200字以内",rules:[function(t){return!!t||"项目名称为必填项"}]},model:{value:t.form.results,callback:function(e){t.$set(t.form,"results",e)},expression:"form.results"}})],1),a("div",{staticClass:"mt-5"},[a("v-icon",[t._v("mdi-cube-scan")]),a("span",{staticClass:"ml-3"},[t._v("技术创新点")])],1),a("div",{staticStyle:{height:"610px"}},[a("quill-editor",{ref:"myQuillEditor",staticClass:"mr-8",staticStyle:{height:"500px"},attrs:{"max-height":"400",config:t.editorOption},model:{value:t.form.tecNew,callback:function(e){t.$set(t.form,"tecNew",e)},expression:"form.tecNew"}})],1),a("div",{staticClass:"mt-5"},[a("v-icon",[t._v("mdi-elevation-rise")]),a("span",{staticClass:"ml-3"},[t._v("市场前景及应用")])],1),a("div",{staticStyle:{height:"610px"}},[a("quill-editor",{ref:"myQuillEditor",staticClass:"mr-8",staticStyle:{height:"500px"},attrs:{"max-height":"400",config:t.editorOption},model:{value:t.form.future,callback:function(e){t.$set(t.form,"future",e)},expression:"form.future"}})],1),a("div",{staticClass:"mt-5"},[a("v-icon",[t._v("mdi-electron-framework")]),a("span",{staticClass:"ml-3"},[t._v("技术成熟度")])],1),a("v-radio-group",{attrs:{row:""},model:{value:t.form.maturity,callback:function(e){t.$set(t.form,"maturity",e)},expression:"form.maturity"}},[a("v-radio",{staticClass:"ml-4",attrs:{value:"概念验证",label:"概念验证"}}),a("v-radio",{staticClass:"ml-4",attrs:{value:"原理样机",label:"原理样机"}}),a("v-radio",{staticClass:"ml-4",attrs:{value:"工程样机",label:"工程样机"}}),a("v-radio",{staticClass:"ml-4",attrs:{value:"中试",label:"中试"}}),a("v-radio",{staticClass:"ml-4",attrs:{value:"产业化",label:"产业化"}})],1),a("div",{staticClass:"mt-5"},[a("v-icon",[t._v("mdi-phone")]),a("span",{staticClass:"ml-3"},[t._v("技术成熟度")])],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-text-field",{attrs:{required:"",filled:"",label:"项目联系人姓名",placeholder:"请输入联系人姓名",rules:[function(t){return!!t||"联系人姓名为必填项"}]},model:{value:t.form.contacts,callback:function(e){t.$set(t.form,"contacts",e)},expression:"form.contacts"}}),a("v-text-field",{attrs:{required:"",filled:"",label:"项目联系人电话",placeholder:"请输入联系电话",rules:[function(t){return!!t||"联系人电话为必填项"}]},model:{value:t.form.tel,callback:function(e){t.$set(t.form,"tel",e)},expression:"form.tel"}}),a("v-text-field",{attrs:{required:"",filled:"",label:"项目联系邮箱",placeholder:"请输入联系邮箱",rules:[function(t){return!!t||"联系人邮箱为必填项"}]},model:{value:t.form.mail,callback:function(e){t.$set(t.form,"mail",e)},expression:"form.mail"}}),a("v-text-field",{attrs:{required:"",filled:"",label:"个人信息",placeholder:"请输入个人联系方式",rules:[function(t){return!!t||"个人信息为必填项"}]},model:{value:t.form.information,callback:function(e){t.$set(t.form,"information",e)},expression:"form.information"}})],1),a("div",{staticClass:"mt-5"},[a("v-icon",[t._v("mdi-file-document-edit")]),a("span",{staticClass:"ml-3"},[t._v("科研成果论文")])],1),a("v-file-input",{attrs:{accept:"application/pdf, application/vnd.openxmlformats-officedocument.wordprocessingml.document, application/msword,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,application/vnd.ms-excel",placeholder:"只能上传pdf/docx/excel文件",label:"科研论文上传","prepend-icon":"mdi-paperclip"},model:{value:t.file,callback:function(e){t.file=e},expression:"file"}}),a("v-row",{staticClass:"mt-12 mb-12"},[a("div",{staticClass:"mr-12 ml-3"},[a("v-btn",{attrs:{width:"120px",depressed:"",large:"",color:"info",loading:t.loading,disabled:t.loading},on:{click:function(e){return t.saveChanges()}}},[t._v("提交修改")])],1),a("div",{staticClass:"mr-12"},[a("v-btn",{staticClass:"white--text",attrs:{width:"120px",depressed:"",large:"",color:"#AAAAAA"},on:{click:function(e){return t.cancel()}}},[t._v("取消")])],1)])],1)],1)],1)],1),a("app-footer")],1)},r=[],o=(a("96cf"),a("1da1")),l=a("953d"),s=(a("a753"),a("8096"),a("14e1"),a("4fbe")),n={name:"SchoolEdit",components:{AppFooter:s["a"],quillEditor:l["quillEditor"]},props:["id"],watch:{id:function(){this.getSci()}},data:function(){return{loading:!1,content:null,file:null,editorOption:{theme:"snow",modules:{toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"][{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]}],[{align:[]}],["link","image"],["sourceEditor"]]}},form:{id:this.id,entryname:"",tel:"",mail:"",position:"",information:"",charge:"",results:"",maturity:"",tecNew:null,future:null,fileurl:""}}},methods:{clearInput:function(){this.form={}},getSci:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$http.get("/api/school/readMySci?id="+t.id);case 2:if(a=e.sent,200==a.data.code){e.next=6;break}return t.$message.warning("抱歉，您无法编辑该科研成果！"),e.abrupt("return",!1);case 6:t.form=a.data.data.Sci;case 7:case"end":return e.stop()}}),e)})))()},goback:function(){this.$router.push("/university/history")},saveChanges:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a,i,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.loading=!0,a=new FormData,a.append("File",t.file),e.next=5,t.$http.post("/api/school/upload",a,{headers:{"Content-Type":"application/x-www-form-urlencoded"}});case 5:return i=e.sent,200===i.data.code&&(t.form.fileurl=i.data.data),e.next=9,t.$http.post("/api/school/updateSci",t.form,{headers:{"Content-Type":"application/json"}});case 9:r=e.sent,200===r.data.code?(t.$message.success("修改科研成果内容成功！"),t.loading=!1,t.clearInput(),t.$router.push("/university/history")):(t.loading=!1,t.$message.error("修改科研成果内容失败！"));case 11:case"end":return e.stop()}}),e)})))()},cancel:function(){this.clearInput(),this.$router.push("/university/history")}},mounted:function(){this.getSci()}},c=n,d=(a("59d6"),a("2877")),u=a("6544"),m=a.n(u),p=a("40dc"),f=a("5bc1"),v=a("8336"),h=a("b0af"),b=a("62ad"),x=a("a523"),g=a("a75b"),C=a("23a7"),w=a("4bd4"),k=a("132d"),y=a("67b6"),_=a("43a6"),$=a("0fd9"),V=a("2fa4"),S=a("8654"),q=a("a844"),A=a("2a7f"),E=Object(d["a"])(c,i,r,!1,null,"70b96e8a",null);e["default"]=E.exports;m()(E,{VAppBar:p["a"],VAppBarNavIcon:f["a"],VBtn:v["a"],VCard:h["a"],VCol:b["a"],VContainer:x["a"],VContent:g["a"],VFileInput:C["a"],VForm:w["a"],VIcon:k["a"],VRadio:y["a"],VRadioGroup:_["a"],VRow:$["a"],VSpacer:V["a"],VTextField:S["a"],VTextarea:q["a"],VToolbarTitle:A["b"]})},ca66:function(t,e,a){}}]);
//# sourceMappingURL=chunk-389ddc55.b3cec8c8.js.map