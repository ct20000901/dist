(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-87f51f9e"],{"1fb5":function(t,e,n){"use strict";e.byteLength=function(t){var e=c(t),n=e[0],r=e[1];return 3*(n+r)/4-r},e.toByteArray=function(t){var e,n,r=c(t),o=r[0],l=r[1],s=new a(function(t,e,n){return 3*(e+n)/4-n}(0,o,l)),u=0,d=l>0?o-4:o;for(n=0;n<d;n+=4)e=i[t.charCodeAt(n)]<<18|i[t.charCodeAt(n+1)]<<12|i[t.charCodeAt(n+2)]<<6|i[t.charCodeAt(n+3)],s[u++]=e>>16&255,s[u++]=e>>8&255,s[u++]=255&e;2===l&&(e=i[t.charCodeAt(n)]<<2|i[t.charCodeAt(n+1)]>>4,s[u++]=255&e);1===l&&(e=i[t.charCodeAt(n)]<<10|i[t.charCodeAt(n+1)]<<4|i[t.charCodeAt(n+2)]>>2,s[u++]=e>>8&255,s[u++]=255&e);return s},e.fromByteArray=function(t){for(var e,n=t.length,i=n%3,a=[],o=0,l=n-i;o<l;o+=16383)a.push(u(t,o,o+16383>l?l:o+16383));1===i?(e=t[n-1],a.push(r[e>>2]+r[e<<4&63]+"==")):2===i&&(e=(t[n-2]<<8)+t[n-1],a.push(r[e>>10]+r[e>>4&63]+r[e<<2&63]+"="));return a.join("")};for(var r=[],i=[],a="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",l=0,s=o.length;l<s;++l)r[l]=o[l],i[o.charCodeAt(l)]=l;function c(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function u(t,e,n){for(var i,a,o=[],l=e;l<n;l+=3)i=(t[l]<<16&16711680)+(t[l+1]<<8&65280)+(255&t[l+2]),o.push(r[(a=i)>>18&63]+r[a>>12&63]+r[a>>6&63]+r[63&a]);return o.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},"5e66":function(t,e,n){},9152:function(t,e){e.read=function(t,e,n,r,i){var a,o,l=8*i-r-1,s=(1<<l)-1,c=s>>1,u=-7,d=n?i-1:0,f=n?-1:1,p=t[e+d];for(d+=f,a=p&(1<<-u)-1,p>>=-u,u+=l;u>0;a=256*a+t[e+d],d+=f,u-=8);for(o=a&(1<<-u)-1,a>>=-u,u+=r;u>0;o=256*o+t[e+d],d+=f,u-=8);if(0===a)a=1-c;else{if(a===s)return o?NaN:1/0*(p?-1:1);o+=Math.pow(2,r),a-=c}return(p?-1:1)*o*Math.pow(2,a-r)},e.write=function(t,e,n,r,i,a){var o,l,s,c=8*a-i-1,u=(1<<c)-1,d=u>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:a-1,m=r?1:-1,h=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(l=isNaN(e)?1:0,o=u):(o=Math.floor(Math.log(e)/Math.LN2),e*(s=Math.pow(2,-o))<1&&(o--,s*=2),(e+=o+d>=1?f/s:f*Math.pow(2,1-d))*s>=2&&(o++,s/=2),o+d>=u?(l=0,o=u):o+d>=1?(l=(e*s-1)*Math.pow(2,i),o+=d):(l=e*Math.pow(2,d-1)*Math.pow(2,i),o=0));i>=8;t[n+p]=255&l,p+=m,l/=256,i-=8);for(o=o<<i|l,c+=i;c>0;t[n+p]=255&o,p+=m,o/=256,c-=8);t[n+p-m]|=128*h}},"953d":function(t,e,n){var r;t.exports=(r=n("9339"),function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/",e(e.s=2)}([function(t,e){t.exports=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(4),i=n.n(r),a=n(6),o=n(5)(i.a,a.a,!1,null,null,null);e.default=o.exports},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.install=e.quillEditor=e.Quill=void 0;var i=r(n(0)),a=r(n(1)),o=window.Quill||i.default,l=function(t,e){e&&(a.default.props.globalOptions.default=function(){return e}),t.component(a.default.name,a.default)},s={Quill:o,quillEditor:a.default,install:l};e.default=s,e.Quill=o,e.quillEditor=a.default,e.install=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={theme:"snow",boundary:document.body,modules:{toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["clean"],["link","image","video"]]},placeholder:"Insert text here ...",readOnly:!1}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=r(n(0)),a=r(n(3)),o=window.Quill||i.default;"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(t,e){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(t),r=1;r<arguments.length;r++){var i=arguments[r];if(null!=i)for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])}return n},writable:!0,configurable:!0}),e.default={name:"quill-editor",data:function(){return{_options:{},_content:"",defaultOptions:a.default}},props:{content:String,value:String,disabled:{type:Boolean,default:!1},options:{type:Object,required:!1,default:function(){return{}}},globalOptions:{type:Object,required:!1,default:function(){return{}}}},mounted:function(){this.initialize()},beforeDestroy:function(){this.quill=null,delete this.quill},methods:{initialize:function(){var t=this;this.$el&&(this._options=Object.assign({},this.defaultOptions,this.globalOptions,this.options),this.quill=new o(this.$refs.editor,this._options),this.quill.enable(!1),(this.value||this.content)&&this.quill.pasteHTML(this.value||this.content),this.disabled||this.quill.enable(!0),this.quill.on("selection-change",(function(e){e?t.$emit("focus",t.quill):t.$emit("blur",t.quill)})),this.quill.on("text-change",(function(e,n,r){var i=t.$refs.editor.children[0].innerHTML,a=t.quill,o=t.quill.getText();"<p><br></p>"===i&&(i=""),t._content=i,t.$emit("input",t._content),t.$emit("change",{html:i,text:o,quill:a})})),this.$emit("ready",this.quill))}},watch:{content:function(t,e){this.quill&&(t&&t!==this._content?(this._content=t,this.quill.pasteHTML(t)):t||this.quill.setText(""))},value:function(t,e){this.quill&&(t&&t!==this._content?(this._content=t,this.quill.pasteHTML(t)):t||this.quill.setText(""))},disabled:function(t,e){this.quill&&this.quill.enable(!t)}}}},function(t,e){t.exports=function(t,e,n,r,i,a){var o,l=t=t||{},s=typeof t.default;"object"!==s&&"function"!==s||(o=t,l=t.default);var c,u="function"==typeof l?l.options:l;if(e&&(u.render=e.render,u.staticRenderFns=e.staticRenderFns,u._compiled=!0),n&&(u.functional=!0),i&&(u._scopeId=i),a?(c=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),r&&r.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(a)},u._ssrRegister=c):r&&(c=r),c){var d=u.functional,f=d?u.render:u.beforeCreate;d?(u._injectStyles=c,u.render=function(t,e){return c.call(e),f(t,e)}):u.beforeCreate=f?[].concat(f,c):[c]}return{esModule:o,exports:l,options:u}}},function(t,e,n){"use strict";var r={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"quill-editor"},[t._t("toolbar"),t._v(" "),n("div",{ref:"editor"})],2)},staticRenderFns:[]};e.a=r}]))},"9caa":function(t,e,n){"use strict";var r=n("5e66");n.n(r).a},a393:function(t,e,n){"use strict";n.r(e);n("96cf");var r=n("1da1"),i=n("953d"),a=(n("a753"),n("8096"),n("14e1"),{name:"SchoolEdit",components:{AppFooter:n("4fbe").a,quillEditor:i.quillEditor},props:["id"],watch:{id:function(){this.getSci()}},data:function(){return{loading:!1,content:null,file:null,editorOption:{theme:"snow",modules:{toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"][{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]}],[{align:[]}],["link","image"],["sourceEditor"]]}},form:{id:this.id,entryname:"",tel:"",mail:"",position:"",information:"",charge:"",results:"",maturity:"",tecNew:null,future:null,fileurl:""}}},methods:{clearInput:function(){this.form={}},getSci:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$http.get("/api/school/readMySci?id="+t.id);case 2:if(200==(n=e.sent).data.code){e.next=6;break}return t.$message.warning("抱歉，您无法编辑该科研成果！"),e.abrupt("return",!1);case 6:t.form=n.data.data.Sci;case 7:case"end":return e.stop()}}),e)})))()},goback:function(){this.$router.push("/university/history")},saveChanges:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.loading=!0,!t.file){e.next=8;break}return(n=new FormData).append("File",t.file),e.next=6,t.$http.post("/api/school/upload",n,{headers:{"Content-Type":"application/x-www-form-urlencoded"}});case 6:200===(r=e.sent).data.code&&(t.form.fileurl=r.data.data);case 8:return e.next=10,t.$http.post("/api/school/updateSci",t.form,{headers:{"Content-Type":"application/json"}});case 10:200===e.sent.data.code?(t.$message.success("修改科研成果内容成功！"),t.loading=!1,t.$router.push("/university/history")):(t.loading=!1,t.$message.error("修改科研成果内容失败！"));case 12:case"end":return e.stop()}}),e)})))()},cancel:function(){this.clearInput(),this.$router.push("/university/history")}},mounted:function(){this.getSci()}}),o=(n("9caa"),n("2877")),l=n("6544"),s=n.n(l),c=n("40dc"),u=n("5bc1"),d=n("8336"),f=n("b0af"),p=n("62ad"),m=n("a523"),h=n("a75b"),v=n("23a7"),b=n("4bd4"),g=n("132d"),x=n("67b6"),_=n("43a6"),C=n("0fd9"),y=n("2fa4"),w=n("8654"),q=n("a844"),k=n("2a7f"),$=Object(o.a)(a,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"back"},[n("v-app-bar",{attrs:{app:"",elevation:"2",color:"#333744",dark:""}},[n("v-app-bar-nav-icon",{on:{click:function(e){return t.goback()}}},[n("v-icon",{domProps:{innerHTML:t._s("mdi-arrow-left")}})],1),n("v-toolbar-title",[n("span",{staticClass:"pr-8"},[t._v("编辑科研成果")])]),n("v-spacer")],1),n("v-content",{staticStyle:{"min-height":"calc(100vh - 64px)"}},[n("v-container",[n("v-card",{staticClass:"mx-auto mb-12 mt-6",attrs:{"max-width":"1000","min-height":"2850"}},[n("v-form",{staticClass:"pl-8",attrs:{model:t.form}},[n("div",{staticClass:"pt-8"},[n("v-icon",[t._v("mdi-tag")]),n("span",{staticClass:"ml-3"},[t._v("项目名称")])],1),n("v-col",{attrs:{cols:"12",sm:"6"}},[n("v-text-field",{attrs:{required:"",placeholder:"请输入项目名称，20个字以内",rules:[function(t){return!!t||"项目名称为必填项"}]},model:{value:t.form.entryname,callback:function(e){t.$set(t.form,"entryname",e)},expression:"form.entryname"}})],1),n("div",{staticClass:"pt-8"},[n("v-icon",[t._v("mdi-card-account-details")]),n("span",{staticClass:"ml-3"},[t._v("成果负责人")])],1),n("v-col",{attrs:{cols:"12",sm:"6"}},[n("v-text-field",{attrs:{required:"",placeholder:"请输入成果负责人姓名",rules:[function(t){return!!t||"成果负责人姓名为必填项"}]},model:{value:t.form.charge,callback:function(e){t.$set(t.form,"charge",e)},expression:"form.charge"}}),n("v-text-field",{attrs:{required:"",placeholder:"请输入成果负责人职称信息",rules:[function(t){return!!t||"成果负责人职称信息为必填项"}]},model:{value:t.form.position,callback:function(e){t.$set(t.form,"position",e)},expression:"form.position"}})],1),n("div",{staticClass:"mt-5"},[n("v-icon",[t._v("mdi-clipboard-text")]),n("span",{staticClass:"ml-3"},[t._v("科研方向")])],1),n("v-col",{attrs:{cols:"12",sm:"8"}},[n("v-textarea",{attrs:{filled:"",placeholder:"请输入科研方向，200字以内",rules:[function(t){return!!t||"项目名称为必填项"}]},model:{value:t.form.results,callback:function(e){t.$set(t.form,"results",e)},expression:"form.results"}})],1),n("div",{staticClass:"mt-5"},[n("v-icon",[t._v("mdi-cube-scan")]),n("span",{staticClass:"ml-3"},[t._v("科研成果及技术创新点")])],1),n("div",{staticStyle:{height:"610px"}},[n("quill-editor",{ref:"myQuillEditor",staticClass:"mr-8",staticStyle:{height:"500px"},attrs:{"max-height":"400",config:t.editorOption},model:{value:t.form.tecNew,callback:function(e){t.$set(t.form,"tecNew",e)},expression:"form.tecNew"}})],1),n("div",{staticClass:"mt-5"},[n("v-icon",[t._v("mdi-elevation-rise")]),n("span",{staticClass:"ml-3"},[t._v("市场前景及应用")])],1),n("div",{staticStyle:{height:"610px"}},[n("quill-editor",{ref:"myQuillEditor",staticClass:"mr-8",staticStyle:{height:"500px"},attrs:{"max-height":"400",config:t.editorOption},model:{value:t.form.future,callback:function(e){t.$set(t.form,"future",e)},expression:"form.future"}})],1),n("div",{staticClass:"mt-5"},[n("v-icon",[t._v("mdi-electron-framework")]),n("span",{staticClass:"ml-3"},[t._v("技术成熟度")])],1),n("v-radio-group",{attrs:{row:""},model:{value:t.form.maturity,callback:function(e){t.$set(t.form,"maturity",e)},expression:"form.maturity"}},[n("v-radio",{staticClass:"ml-4",attrs:{value:"概念验证",label:"概念验证"}}),n("v-radio",{staticClass:"ml-4",attrs:{value:"原理样机",label:"原理样机"}}),n("v-radio",{staticClass:"ml-4",attrs:{value:"工程样机",label:"工程样机"}}),n("v-radio",{staticClass:"ml-4",attrs:{value:"中试",label:"中试"}}),n("v-radio",{staticClass:"ml-4",attrs:{value:"产业化",label:"产业化"}})],1),n("div",{staticClass:"mt-5"},[n("v-icon",[t._v("mdi-phone")]),n("span",{staticClass:"ml-3"},[t._v("联系方式")])],1),n("v-col",{attrs:{cols:"12",sm:"6"}},[n("v-text-field",{attrs:{required:"",filled:"",label:"项目联系人姓名",placeholder:"请输入联系人姓名",rules:[function(t){return!!t||"联系人姓名为必填项"}]},model:{value:t.form.contacts,callback:function(e){t.$set(t.form,"contacts",e)},expression:"form.contacts"}}),n("v-text-field",{attrs:{required:"",filled:"",label:"项目联系人电话",placeholder:"请输入联系电话",rules:[function(t){return!!t||"联系人电话为必填项"}]},model:{value:t.form.tel,callback:function(e){t.$set(t.form,"tel",e)},expression:"form.tel"}}),n("v-text-field",{attrs:{required:"",filled:"",label:"项目联系邮箱",placeholder:"请输入联系邮箱",rules:[function(t){return!!t||"联系人邮箱为必填项"}]},model:{value:t.form.mail,callback:function(e){t.$set(t.form,"mail",e)},expression:"form.mail"}}),n("v-text-field",{attrs:{required:"",filled:"",label:"个人信息",placeholder:"请输入个人联系方式",rules:[function(t){return!!t||"个人信息为必填项"}]},model:{value:t.form.information,callback:function(e){t.$set(t.form,"information",e)},expression:"form.information"}})],1),n("div",{staticClass:"mt-5"},[n("v-icon",[t._v("mdi-file-document-edit")]),n("span",{staticClass:"ml-3"},[t._v("科研成果论文")])],1),n("v-file-input",{attrs:{accept:"application/pdf, application/vnd.openxmlformats-officedocument.wordprocessingml.document, application/msword,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,application/vnd.ms-excel",placeholder:"只能上传pdf/docx/excel文件",label:"科研论文上传","prepend-icon":"mdi-paperclip"},model:{value:t.file,callback:function(e){t.file=e},expression:"file"}}),n("v-row",{staticClass:"mt-12 mb-12"},[n("div",{staticClass:"mr-12 ml-3"},[n("v-btn",{attrs:{width:"120px",depressed:"",large:"",color:"info",loading:t.loading,disabled:t.loading},on:{click:function(e){return t.saveChanges()}}},[t._v("提交修改")])],1),n("div",{staticClass:"mr-12"},[n("v-btn",{staticClass:"white--text",attrs:{width:"120px",depressed:"",large:"",color:"#AAAAAA"},on:{click:function(e){return t.cancel()}}},[t._v("取消")])],1)])],1)],1)],1)],1),n("app-footer")],1)}),[],!1,null,"567ff679",null);e.default=$.exports;s()($,{VAppBar:c.a,VAppBarNavIcon:u.a,VBtn:d.a,VCard:f.a,VCol:p.a,VContainer:m.a,VContent:h.a,VFileInput:v.a,VForm:b.a,VIcon:g.a,VRadio:x.a,VRadioGroup:_.a,VRow:C.a,VSpacer:y.a,VTextField:w.a,VTextarea:q.a,VToolbarTitle:k.b})},e3db:function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}}}]);