(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-ec170d90"],{"1aa1":function(e,t,n){n("c975"),function(e){var t,n='<svg><symbol id="icon-wenjian" viewBox="0 0 1024 1024"><path d="M875.6 491.8c74.6-74.6 68.8-201.9-13-283.7-79-79-216.6-80.1-294.4-2.3l-18.8 18.8-254.2 254.3c-54.5 54.5-54.5 143.3 0 197.8s143.3 54.5 197.8 0l211.9-211.9c15.6-15.6 15.6-40.9 0-56.5-15.6-15.6-40.9-15.6-56.5 0l-212 211.9c-23.4 23.4-61.4 23.4-84.8 0s-23.4-61.4 0-84.8L606 281.1l18.8-18.8c42.3-42.3 128.8-50.3 181.3 2.3 50.6 50.6 56.5 127.2 13 170.6l-15.4 15.4-296.1 296.2c-70.7 70.7-191.6 64.9-269.5-13s-83.7-198.8-13-269.5l239.6-239.6c15.6-15.6 15.6-40.9 0-56.5-15.6-15.6-40.9-15.6-56.5 0L153.1 425.8s-6.4 7-7.6 9.1c-76.8 103.2-63.8 255.4 36.1 355.4S433.8 903.2 537 826.4c4.5-1.9 8.8-4.7 12.5-8.4l310.8-310.8c2.6-2.7 12.7-12.7 15.3-15.4z" fill="#1E285D" ></path></symbol><symbol id="icon-NEW" viewBox="0 0 1024 1024"><path d="M186.7 300.6H869c32.8 0 59.3 26.6 59.3 59.3v267c0 32.8-26.6 59.3-59.3 59.3H246l-118.7 59.3V359.9c0-32.8 26.6-59.3 59.4-59.3z" fill="#F55449" ></path><path d="M208.7 597.2V384.9h41.7l86.9 141.8V384.9h39.8v212.4h-43l-85.6-138.5v138.5h-39.8z m213.8 0V384.9H580v35.9H465.4v47.1H572v35.8H465.4v57.8H584v35.8H422.5z m228 0l-50.7-212.4h43.9l32 145.9 38.8-145.9h51l37.2 148.3 32.6-148.3h43.2l-51.6 212.4h-45.5l-42.3-158.8L697 597.2h-46.5z" fill="#FFFFFF" ></path></symbol></svg>';if((t=document.getElementsByTagName("script"))[t.length-1].getAttribute("data-injectcss")&&!e.__iconfont__svg__cssinject__){e.__iconfont__svg__cssinject__=!0;try{document.write("<style>.svgfont {display: inline-block;width: 1em;height: 1em;fill: currentColor;vertical-align: -0.1em;font-size:16px;}</style>")}catch(t){console&&console.log(t)}}!function(t){if(document.addEventListener)if(~["complete","loaded","interactive"].indexOf(document.readyState))setTimeout(t,0);else{document.addEventListener("DOMContentLoaded",(function e(){document.removeEventListener("DOMContentLoaded",e,!1),t()}),!1)}else document.attachEvent&&(a=t,i=e.document,r=!1,(s=function(){try{i.documentElement.doScroll("left")}catch(e){return void setTimeout(s,50)}n()})(),i.onreadystatechange=function(){"complete"==i.readyState&&(i.onreadystatechange=null,n())});function n(){r||(r=!0,a())}var a,i,r,s}((function(){var e,t,a,i,r,s;(e=document.createElement("div")).innerHTML=n,n=null,(t=e.getElementsByTagName("svg")[0])&&(t.setAttribute("aria-hidden","true"),t.style.position="absolute",t.style.width=0,t.style.height=0,t.style.overflow="hidden",a=t,(i=document.body).firstChild?(r=a,(s=i.firstChild).parentNode.insertBefore(r,s)):i.appendChild(a))}))}(window)},"1da1":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));n("d3b7"),n("e6cf");function a(e,t,n,a,i,r,s){try{var c=e[r](s),o=c.value}catch(e){return void n(e)}c.done?t(o):Promise.resolve(o).then(a,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,r){var s=e.apply(t,n);function c(e){a(s,i,r,c,o,"next",e)}function o(e){a(s,i,r,c,o,"throw",e)}c(void 0)}))}}},"28b2":function(e,t,n){"use strict";n.r(t);n("d3b7"),n("25f0"),n("96cf");var a=n("1da1"),i=(n("1aa1"),{name:"DemandList",data:function(){return{activeKey:0,menuLists:[{id:0,catename:"全部类别"},{id:1,catename:"船舶产业"},{id:2,catename:"金属材料"},{id:3,catename:"能源石化"},{id:4,catename:"汽车配件"},{id:5,catename:"电机电器"},{id:6,catename:"通（专）用设备"},{id:7,catename:"工程机械"},{id:8,catename:"高端装备"},{id:9,catename:"新材料"},{id:10,catename:"生物医药"},{id:11,catename:"电子信息"},{id:12,catename:"节能环保"},{id:13,catename:"其他"}],selectEnterprise:0,selectYear:0,companyList:[{text:"全部企业",value:0}],yearList:[{text:"全部年份",value:0}],enterprise:"",year:"",subject:"",articleList:[],loading:!1,isLoading:!1,finished:!1,currentPage:1,pageNum:1,color1:" background-color: #fafafa;",color2:" background-color: #ffffff;"}},methods:{getSelectList:function(){var e=this;return Object(a.a)(regeneratorRuntime.mark((function t(){var n,a,i,r,s,c,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get("/api/home/allcompany");case 2:for(n=t.sent,a=n.data.data.users,i=1;i<=a.length;i++)(r={value:i,text:""}).text=a[i-1].username,e.companyList.push(r);return t.next=7,e.$http.get("/api/home/year");case 7:if(200===(s=t.sent).status){t.next=10;break}return t.abrupt("return",!1);case 10:if(200===s.data.code)for(c=2020;c<=s.data.data;c++)(o={value:c,text:""}).text=c.toString(),e.yearList.push(o);case 11:case"end":return t.stop()}}),t)})))()},getSubjectList:function(){var e=this;return Object(a.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.articleList=[],e.subject=e.menuLists[e.activeKey].catename,"全部类别"==e.subject&&(e.subject=""),0!==e.selectEnterprise?e.enterprise=e.companyList[e.selectEnterprise].text:e.enterprise="",0!==e.selectYear?e.year=e.selectYear:e.year="",t.next=7,e.$http.get("/api/home/select?need="+e.subject+"&page="+e.currentPage+"&enterprise="+e.enterprise+"&year="+e.year);case 7:if(200==(n=t.sent).status){t.next=10;break}return t.abrupt("return",!1);case 10:200===n.data.code&&(e.articleList=n.data.data.enterpriseneeds.list,e.pageNum=n.data.data.enterpriseneeds.pages),e.loading=!1,e.isLoading=!1,e.finished=!0;case 14:case"end":return t.stop()}}),t)})))()},getPageSubjectList:function(){var e=this;return Object(a.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.articleList=[],e.currentPage=1,e.pageNum=1,e.subject=e.menuLists[e.activeKey].catename,"全部类别"==e.subject&&(e.subject=""),0!==e.selectEnterprise?e.enterprise=e.companyList[e.selectEnterprise].text:e.enterprise="",0!==e.selectYear?e.year=e.selectYear:e.year="",t.next=9,e.$http.get("/api/home/select?need="+e.subject+"&page="+e.currentPage+"&enterprise="+e.enterprise+"&year="+e.year);case 9:if(200==(n=t.sent).status){t.next=12;break}return t.abrupt("return",!1);case 12:200===n.data.code&&(e.articleList=n.data.data.enterpriseneeds.list,e.pageNum=n.data.data.enterpriseneeds.pages),e.loading=!1,e.isLoading=!1,e.finished=!0;case 16:case"end":return t.stop()}}),t)})))()},handleToDetail:function(e){this.$router.push({path:"/demandList/detail/"+e,query:{subject:this.subject,enterprise:this.enterprise,year:this.year}})}},mounted:function(){this.getSelectList()}}),r=(n("ee10"),n("2877")),s=Object(r.a)(i,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._m(0),n("van-dropdown-menu",{staticStyle:{"border-top":"1px solid #f2f2f2","border-bottom":"1px solid #f2f2f2"},attrs:{"active-color":"#ee0a24"}},[n("van-dropdown-item",{attrs:{options:e.companyList},on:{change:e.getSubjectList},model:{value:e.selectEnterprise,callback:function(t){e.selectEnterprise=t},expression:"selectEnterprise"}}),n("van-dropdown-item",{attrs:{options:e.yearList},on:{change:e.getSubjectList},model:{value:e.selectYear,callback:function(t){e.selectYear=t},expression:"selectYear"}})],1),n("van-row",{attrs:{type:"flex",justify:"space-between"}},[n("van-col",{attrs:{span:"6"}},[n("van-sidebar",{staticClass:"navbar",on:{change:e.getSubjectList},model:{value:e.activeKey,callback:function(t){e.activeKey=t},expression:"activeKey"}},e._l(e.menuLists,(function(e){return n("van-sidebar-item",{key:e.id,attrs:{title:e.catename}})})),1)],1),n("van-col",{staticClass:"artlist",attrs:{cols:"18"}},[n("van-pull-refresh",{on:{refresh:e.getSubjectList},model:{value:e.isLoading,callback:function(t){e.isLoading=t},expression:"isLoading"}},[n("van-list",{staticClass:"list",attrs:{finished:e.finished},on:{load:e.getSubjectList},model:{value:e.loading,callback:function(t){e.loading=t},expression:"loading"}},[e._l(e.articleList,(function(t,a){return n("van-cell",{key:a,staticClass:"vcell",style:a%2?e.color1:e.color2,attrs:{"is-link":"",label:t.time},on:{click:function(n){return e.handleToDetail(t.id)}},scopedSlots:e._u([{key:"title",fn:function(){return[n("span",{staticClass:"custom-title"},[e._v(e._s(t.title))])]},proxy:!0}],null,!0)})})),this.articleList&&0==this.articleList.length?n("van-cell",[n("van-empty",{attrs:{description:"暂时没有企业需求哦"}})],1):e._e()],2),n("van-pagination",{attrs:{"show-page-size":3,"page-count":e.pageNum,"force-ellipses":""},on:{change:e.getPageSubjectList},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}})],1)],1)],1)],1)}),[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"attention-logo"},[t("span",{staticClass:"title"},[this._v("企业需求")])])}],!1,null,"cb66159c",null);t.default=s.exports},"8ed8":function(e,t,n){},ee10:function(e,t,n){"use strict";var a=n("8ed8");n.n(a).a}}]);