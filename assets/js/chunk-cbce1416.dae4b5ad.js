(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-cbce1416"],{"60d4":function(e,r,t){"use strict";t.r(r);t("96cf");var a=t("1da1"),n=t("cba5"),o=t("4fbe"),s={name:"PersonalCenter",components:{AppBar:n.a,AppFooter:o.a},data:function(){return{form:{username:"",paragraph:"",contact:"",tel:"",mail:"",address:""},editUserFormRules:{contact:[{required:!0,message:"请输入联系人姓名",trigger:"blur"}],paragraph:[{required:!0,message:"请输入公司税号",trigger:"blur"}],mail:[{validator:function(e,r,t){if(/^\w+@\w+(\.\w+)+$/.test(r))return t();t(new Error("请输入合法邮箱"))},trigger:"blur"}],tel:[{required:!0,message:"请输入联系电话",trigger:"blur"},{validator:function(e,r,t){if(/^1[34578]\d{9}$/.test(r))return t();t(new Error("请输入合法的手机号码"))},trigger:"blur"}],address:[{required:!0,message:"请输入公司所在地址",trigger:"blur"}]}}},methods:{getUserInfo:function(){var e=this;return Object(a.a)(regeneratorRuntime.mark((function r(){var t;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.$http.get("/api/home/thisuser");case 2:if(200!=(t=r.sent).data.code){r.next=13;break}e.form.id=t.data.data.id,e.form.username=t.data.data.username,e.form.paragraph=t.data.data.paragraph,e.form.contact=t.data.data.contact,e.form.tel=t.data.data.tel,e.form.mail=t.data.data.mail,e.form.address=t.data.data.address,r.next=14;break;case 13:return r.abrupt("return",!1);case 14:case"end":return r.stop()}}),r)})))()},changeUserInfo:function(){var e=this;return Object(a.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:e.$refs.editUserFormRef.validate(function(){var r=Object(a.a)(regeneratorRuntime.mark((function r(t){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(t){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,e.$http.post("/api/business/updateBus",e.form,{headers:{"Content-Type":"application/json"}});case 4:200===r.sent.data.code?e.$message.success("用户信息修改成功！"):e.$message.error("用户信息修改失败");case 6:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}());case 1:case"end":return r.stop()}}),r)})))()}},mounted:function(){this.getUserInfo()}},i=(t("b862"),t("2877")),c=t("6544"),u=t.n(c),l=t("b0af"),m=t("99d9"),f=t("62ad"),d=t("a523"),p=t("a75b"),b=Object(i.a)(s,(function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"back"},[t("app-bar",{attrs:{"back-icon":"",title:"我的信息","hide-user-menu":"",hideMessage:"",hideDemand:""}}),t("v-content",{staticStyle:{"min-height":"calc(100vh - 64px)"}},[t("v-container",[t("v-card",{staticClass:"mx-auto mt-12",attrs:{"min-height":"400","max-width":"800"}},[t("v-card-title",[e._v("基本信息")]),t("div",{staticClass:"pl-10"},[t("el-form",{ref:"editUserFormRef",attrs:{"label-position":"left","label-width":"80px",model:e.form,rules:e.editUserFormRules}},[t("v-col",{attrs:{cols:"12",sm:"6"}},[t("el-form-item",{attrs:{label:"公司名称"}},[t("el-input",{attrs:{disabled:!0},model:{value:e.form.username,callback:function(r){e.$set(e.form,"username",r)},expression:"form.username"}})],1),t("el-form-item",{attrs:{label:"税号",prop:"paragraph"}},[t("el-input",{on:{blur:function(r){return e.changeUserInfo()}},model:{value:e.form.paragraph,callback:function(r){e.$set(e.form,"paragraph",r)},expression:"form.paragraph"}})],1),t("el-form-item",{attrs:{label:"联系人",prop:"contact"}},[t("el-input",{on:{blur:function(r){return e.changeUserInfo()}},model:{value:e.form.contact,callback:function(r){e.$set(e.form,"contact",r)},expression:"form.contact"}})],1),t("el-form-item",{attrs:{label:"联系电话",prop:"tel"}},[t("el-input",{on:{blur:function(r){return e.changeUserInfo()}},model:{value:e.form.tel,callback:function(r){e.$set(e.form,"tel",r)},expression:"form.tel"}})],1),t("el-form-item",{attrs:{label:"联系邮箱",prop:"mail"}},[t("el-input",{on:{blur:function(r){return e.changeUserInfo()}},model:{value:e.form.mail,callback:function(r){e.$set(e.form,"mail",r)},expression:"form.mail"}})],1)],1),t("v-col",{attrs:{cols:"12",sm:"8"}},[t("el-form-item",{attrs:{label:"公司地址",prop:"address"}},[t("el-input",{on:{blur:function(r){return e.changeUserInfo()}},model:{value:e.form.address,callback:function(r){e.$set(e.form,"address",r)},expression:"form.address"}})],1)],1)],1)],1)],1)],1)],1),t("app-footer")],1)}),[],!1,null,"09deac1c",null);r.default=b.exports;u()(b,{VCard:l.a,VCardTitle:m.c,VCol:f.a,VContainer:d.a,VContent:p.a})},b862:function(e,r,t){"use strict";var a=t("ba74");t.n(a).a},ba74:function(e,r,t){}}]);
//# sourceMappingURL=chunk-cbce1416.dae4b5ad.js.map