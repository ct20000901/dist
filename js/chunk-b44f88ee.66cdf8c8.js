(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b44f88ee"],{"268e":function(t,e,a){"use strict";var s=a("dfbe"),i=a.n(s);i.a},a393:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"back"},[a("app-bar",{attrs:{"back-icon":"",title:"编辑科研成果","hide-user-menu":"",hideMessage:"",hideDemand:""}}),a("v-content",{staticStyle:{"min-height":"calc(100vh - 64px)"}},[a("v-container",[a("v-card",{staticClass:"mx-auto mb-12 mt-6",attrs:{"max-width":"1000","min-height":"2850"}},[a("v-form",{staticClass:"pl-8",attrs:{model:t.form}},[a("div",{staticClass:"pt-8"},[a("v-icon",[t._v("mdi-tag")]),a("span",{staticClass:"ml-3"},[t._v("项目名称")])],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-text-field",{attrs:{required:"",placeholder:"请输入项目名称，20个字以内",rules:[function(t){return!!t||"项目名称为必填项"}]},model:{value:t.form.entryname,callback:function(e){t.$set(t.form,"entryname",e)},expression:"form.entryname"}})],1),a("div",{staticClass:"pt-8"},[a("v-icon",[t._v("mdi-card-account-details")]),a("span",{staticClass:"ml-3"},[t._v("成果负责人")])],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-text-field",{attrs:{required:"",placeholder:"请输入成果负责人姓名",rules:[function(t){return!!t||"成果负责人姓名为必填项"}]},model:{value:t.form.charge,callback:function(e){t.$set(t.form,"charge",e)},expression:"form.charge"}}),a("v-text-field",{attrs:{required:"",placeholder:"请输入成果负责人职称信息",rules:[function(t){return!!t||"成果负责人职称信息为必填项"}]},model:{value:t.form.position,callback:function(e){t.$set(t.form,"position",e)},expression:"form.position"}})],1),a("div",{staticClass:"mt-5"},[a("v-icon",[t._v("mdi-clipboard-text")]),a("span",{staticClass:"ml-3"},[t._v("科研成果介绍")])],1),a("v-col",{attrs:{cols:"12",sm:"8"}},[a("v-textarea",{attrs:{filled:"",placeholder:"请输入科研成果简介，200字以内",rules:[function(t){return!!t||"项目名称为必填项"}]},model:{value:t.form.results,callback:function(e){t.$set(t.form,"results",e)},expression:"form.results"}})],1),a("div",{staticClass:"mt-5"},[a("v-icon",[t._v("mdi-cube-scan")]),a("span",{staticClass:"ml-3"},[t._v("技术创新点")])],1),a("div",{staticStyle:{height:"610px"}},[a("quill-editor",{ref:"myQuillEditor",staticClass:"mr-8",staticStyle:{height:"500px"},attrs:{"max-height":"400",config:t.editorOption},model:{value:t.form.tecNew,callback:function(e){t.$set(t.form,"tecNew",e)},expression:"form.tecNew"}})],1),a("div",{staticClass:"mt-5"},[a("v-icon",[t._v("mdi-elevation-rise")]),a("span",{staticClass:"ml-3"},[t._v("市场前景及应用")])],1),a("div",{staticStyle:{height:"610px"}},[a("quill-editor",{ref:"myQuillEditor",staticClass:"mr-8",staticStyle:{height:"500px"},attrs:{"max-height":"400",config:t.editorOption},model:{value:t.form.future,callback:function(e){t.$set(t.form,"future",e)},expression:"form.future"}})],1),a("div",{staticClass:"mt-5"},[a("v-icon",[t._v("mdi-electron-framework")]),a("span",{staticClass:"ml-3"},[t._v("技术成熟度")])],1),a("v-radio-group",{attrs:{row:""},model:{value:t.form.maturity,callback:function(e){t.$set(t.form,"maturity",e)},expression:"form.maturity"}},[a("v-radio",{staticClass:"ml-4",attrs:{value:"概念验证",label:"概念验证"}}),a("v-radio",{staticClass:"ml-4",attrs:{value:"原理样机",label:"原理样机"}}),a("v-radio",{staticClass:"ml-4",attrs:{value:"工程样机",label:"工程样机"}}),a("v-radio",{staticClass:"ml-4",attrs:{value:"中试",label:"中试"}}),a("v-radio",{staticClass:"ml-4",attrs:{value:"产业化",label:"产业化"}})],1),a("div",{staticClass:"mt-5"},[a("v-icon",[t._v("mdi-phone")]),a("span",{staticClass:"ml-3"},[t._v("技术成熟度")])],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-text-field",{attrs:{required:"",filled:"",label:"项目联系人姓名",placeholder:"请输入联系人姓名",rules:[function(t){return!!t||"联系人姓名为必填项"}]},model:{value:t.form.contacts,callback:function(e){t.$set(t.form,"contacts",e)},expression:"form.contacts"}}),a("v-text-field",{attrs:{required:"",filled:"",label:"项目联系人电话",placeholder:"请输入联系电话",rules:[function(t){return!!t||"联系人电话为必填项"}]},model:{value:t.form.tel,callback:function(e){t.$set(t.form,"tel",e)},expression:"form.tel"}}),a("v-text-field",{attrs:{required:"",filled:"",label:"项目联系邮箱",placeholder:"请输入联系邮箱",rules:[function(t){return!!t||"联系人邮箱为必填项"}]},model:{value:t.form.mail,callback:function(e){t.$set(t.form,"mail",e)},expression:"form.mail"}}),a("v-text-field",{attrs:{required:"",filled:"",label:"个人信息",placeholder:"请输入个人联系方式",rules:[function(t){return!!t||"个人信息为必填项"}]},model:{value:t.form.information,callback:function(e){t.$set(t.form,"information",e)},expression:"form.information"}})],1),a("div",{staticClass:"mt-5"},[a("v-icon",[t._v("mdi-file-document-edit")]),a("span",{staticClass:"ml-3"},[t._v("科研成果论文")])],1),a("el-upload",{staticClass:"upload-demo mt-5 mr-5",attrs:{drag:"",action:"https://jsonplaceholder.typicode.com/posts/",multiple:""}},[a("i",{staticClass:"el-icon-upload"}),a("div",{staticClass:"el-upload__text"},[t._v(" 将文件拖到此处，或 "),a("em",[t._v("点击上传")])]),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v(" 只能上传pdf文件，且不超过20M ")])]),a("v-row",{staticClass:"mt-12 mb-12"},[a("div",{staticClass:"mr-12 ml-3"},[a("v-btn",{attrs:{width:"120px",depressed:"",large:"",color:"info",loading:t.loading,disabled:t.loading},on:{click:function(e){return t.saveChanges()}}},[t._v("提交修改")])],1),a("div",{staticClass:"mr-12"},[a("v-btn",{staticClass:"white--text",attrs:{width:"120px",depressed:"",large:"",color:"#AAAAAA"},on:{click:function(e){return t.cancel()}}},[t._v("取消")])],1)])],1)],1)],1)],1),a("app-footer")],1)},i=[],r=(a("96cf"),a("1da1")),l=a("953d"),o=a("5dde"),n=(a("a753"),a("8096"),a("14e1"),a("cba5")),c=a("4fbe");l["Quill"].register("modules/ImageExtend",o["a"]);var u={name:"SchoolEdit",components:{AppBar:n["a"],AppFooter:c["a"],quillEditor:l["quillEditor"]},props:["id"],watch:{id:function(){this.getSci()}},data:function(){return{loading:!1,content:null,editorOption:{placeholder:"请输入",theme:"snow",modules:{ImageExtend:{loading:!0,name:"img",size:3},toolbar:{container:o["c"],handlers:{image:function(){o["b"].emit(this.quill.id)}}}}},form:{entryname:"",tel:"",mail:"",position:"",information:"",charge:"",results:"",maturity:"",tecNew:null,future:null}}},methods:{clearInput:function(){this.form={}},getSci:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$http.get("/api/school/readMySci?id="+t.id);case 2:if(a=e.sent,200==a.data.code){e.next=6;break}return t.$message.warning("抱歉，您无法编辑该科研成果！"),e.abrupt("return",!1);case 6:t.form=a.data.data.Sci;case 7:case"end":return e.stop()}}),e)})))()},saveChanges:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$http.post("/api/school/updateSchool",t.form,{headers:{"Content-Type":"application/json"}});case 2:a=e.sent,200===a.data.code?(t.$message.success("修改科研成果内容成功！"),t.clearInput(),t.$router.push("/university/history")):(t.clearInput(),t.$message.error("修改科研成果内容失败！")),t.clearInput();case 5:case"end":return e.stop()}}),e)})))()},cancel:function(){this.clearInput(),this.$router.push("/university/history")}},mounted:function(){this.getSci()}},d=u,m=(a("268e"),a("2877")),f=a("6544"),p=a.n(f),v=a("8336"),h=a("b0af"),b=a("62ad"),g=a("a523"),x=a("a75b"),C=a("4bd4"),w=a("132d"),_=a("67b6"),k=a("43a6"),y=a("0fd9"),$=a("8654"),q=a("a844"),S=Object(m["a"])(d,s,i,!1,null,"28713272",null);e["default"]=S.exports;p()(S,{VBtn:v["a"],VCard:h["a"],VCol:b["a"],VContainer:g["a"],VContent:x["a"],VForm:C["a"],VIcon:w["a"],VRadio:_["a"],VRadioGroup:k["a"],VRow:y["a"],VTextField:$["a"],VTextarea:q["a"]})},dfbe:function(t,e,a){}}]);
//# sourceMappingURL=chunk-b44f88ee.66cdf8c8.js.map