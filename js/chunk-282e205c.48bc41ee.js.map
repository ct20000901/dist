{"version":3,"sources":["webpack:///./src/components/card.vue?4a99","webpack:///./src/views/home/dataAnalysis.vue?d19c","webpack:///src/views/home/dataAnalysis.vue","webpack:///./src/views/home/dataAnalysis.vue?28ae","webpack:///./src/views/home/dataAnalysis.vue","webpack:///./src/views/home/dataAnalysis.vue?e1eb","webpack:///./src/components/card.vue?0494","webpack:///src/components/card.vue","webpack:///./src/components/card.vue?7a2e","webpack:///./src/components/card.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","_v","on","$event","changeMonth","model","value","offline","callback","$$v","$set","expression","online","staticRenderFns","components","card","data","date","keys","url","userRatioData","methods","offlineEcharts","myChart","$echarts","init","document","getElementById","option","tooltip","trigger","formatter","legend","orient","left","series","setOption","onlineEcharts","getData","$axios","obj","params","startDate","endDate","res","code","map","keyMap","push","item","productName","count","name","hospital","type","message","endTime","dateInit","nowMonth","created","$openLoading","mounted","Promise","all","setTimeout","component","_s","title","_t","props","String"],"mappings":"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","file":"js/chunk-282e205c.48bc41ee.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./card.vue?vue&type=style&index=0&lang=less&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"mechanism-wrapper\"},[_c('card',{attrs:{\"title\":\"线下销售额统计（分医院）\"}},[_c('div',{staticClass:\"data-pick-wrapper\"},[_c('span',[_vm._v(\"选择日期: \")]),_c('el-date-picker',{attrs:{\"type\":\"monthrange\",\"range-separator\":\"至\",\"start-placeholder\":\"开始月份\",\"end-placeholder\":\"结束月份\",\"format\":\"yyyy 年 MM 月\",\"value-format\":\"yyyy/MM/dd\"},on:{\"change\":function($event){return _vm.changeMonth(0)}},model:{value:(_vm.offline.date),callback:function ($$v) {_vm.$set(_vm.offline, \"date\", $$v)},expression:\"offline.date\"}})],1),_c('div',{staticClass:\"charts\",attrs:{\"id\":\"offline\"}})]),_c('card',{attrs:{\"title\":\"线上销售额统计（分产品数量）\"}},[_c('div',{staticClass:\"data-pick-wrapper\"},[_c('span',[_vm._v(\"选择日期:\")]),_c('el-date-picker',{attrs:{\"type\":\"monthrange\",\"range-separator\":\"至\",\"start-placeholder\":\"开始月份\",\"end-placeholder\":\"结束月份\",\"format\":\"yyyy 年 MM 月\",\"value-format\":\"yyyy/MM/dd\"},on:{\"change\":function($event){return _vm.changeMonth(1)}},model:{value:(_vm.online.date),callback:function ($$v) {_vm.$set(_vm.online, \"date\", $$v)},expression:\"online.date\"}})],1),_c('div',{staticClass:\"charts\",attrs:{\"id\":\"online\"}})])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <section class=\"mechanism-wrapper\">\r\n    <card title=\"线下销售额统计（分医院）\">\r\n      <div class=\"data-pick-wrapper\">\r\n        <span>选择日期: </span>\r\n        <el-date-picker\r\n          v-model=\"offline.date\"\r\n          type=\"monthrange\"\r\n          range-separator=\"至\"\r\n          start-placeholder=\"开始月份\"\r\n          end-placeholder=\"结束月份\"\r\n          @change=\"changeMonth(0)\"\r\n          format=\"yyyy 年 MM 月\"\r\n          value-format=\"yyyy/MM/dd\"\r\n        >\r\n        </el-date-picker>\r\n      </div>\r\n      <div id=\"offline\" class=\"charts\"></div>\r\n    </card>\r\n    <card title=\"线上销售额统计（分产品数量）\">\r\n      <div class=\"data-pick-wrapper\">\r\n        <span>选择日期:</span>\r\n        <el-date-picker\r\n          v-model=\"online.date\"\r\n          type=\"monthrange\"\r\n          range-separator=\"至\"\r\n          start-placeholder=\"开始月份\"\r\n          end-placeholder=\"结束月份\"\r\n          @change=\"changeMonth(1)\"\r\n          format=\"yyyy 年 MM 月\"\r\n          value-format=\"yyyy/MM/dd\"\r\n        >\r\n        </el-date-picker>\r\n      </div>\r\n      <div id=\"online\" class=\"charts\"></div>\r\n    </card>\r\n  </section>\r\n</template>\r\n\r\n<script>\r\nimport card from \"../../components/card\";\r\nexport default {\r\n  components: {\r\n    card\r\n  },\r\n  data() {\r\n    return {\r\n      online: {\r\n        date: [],\r\n        keys: [],\r\n        data: [],\r\n        url: \"/getOnLine\"\r\n      },\r\n      offline: {\r\n        date: [],\r\n        keys: [],\r\n        data: [],\r\n        url: \"/getOffLine\"\r\n      },\r\n      userRatioData: []\r\n    };\r\n  },\r\n  methods: {\r\n    offlineEcharts() {\r\n      // 基于准备好的dom，初始化echarts实例\r\n      var myChart = this.$echarts.init(document.getElementById(\"offline\"));\r\n\r\n      // 指定图表的配置项和数据\r\n      var option = {\r\n        tooltip: {\r\n          trigger: \"item\",\r\n          formatter: \"{a} <br/>{b} : {c} ({d}%)\"\r\n        },\r\n        legend: {\r\n          orient: \"vertical\",\r\n          left: \"right\",\r\n          data: this.offline.keys\r\n        },\r\n        series: [\r\n          {\r\n            name: \"销售额\",\r\n            type: \"pie\",\r\n            radius: \"55%\",\r\n            center: [\"50%\", \"60%\"],\r\n            data: this.offline.data,\r\n            emphasis: {\r\n              itemStyle: {\r\n                shadowBlur: 10,\r\n                shadowOffsetX: 0,\r\n                shadowColor: \"rgba(0, 0, 0, 0.5)\"\r\n              }\r\n            }\r\n          }\r\n        ]\r\n      };\r\n\r\n      // 使用刚指定的配置项和数据显示图表。\r\n      myChart.setOption(option);\r\n    },\r\n    onlineEcharts() {\r\n      // 基于准备好的dom，初始化echarts实例\r\n      var myChart = this.$echarts.init(document.getElementById(\"online\"));\r\n\r\n      // 指定图表的配置项和数据\r\n      var option = {\r\n        tooltip: {\r\n          trigger: \"item\",\r\n          formatter: \"{a} <br/>{b} : {c} ({d}%)\"\r\n        },\r\n        legend: {\r\n          orient: \"vertical\",\r\n          left: \"left\",\r\n          data: this.online.keys\r\n        },\r\n        series: [\r\n          {\r\n            name: \"访问来源\",\r\n            type: \"pie\",\r\n            radius: \"55%\",\r\n            center: [\"50%\", \"60%\"],\r\n            data: this.online.data,\r\n            emphasis: {\r\n              itemStyle: {\r\n                shadowBlur: 10,\r\n                shadowOffsetX: 0,\r\n                shadowColor: \"rgba(0, 0, 0, 0.5)\"\r\n              }\r\n            }\r\n          }\r\n        ]\r\n      };\r\n\r\n      // 使用刚指定的配置项和数据显示图表。\r\n      myChart.setOption(option);\r\n    },\r\n    getData(obj, init) {\r\n      this.$axios({\r\n        url: obj.url,\r\n        params: {\r\n          startDate: obj.date[0],\r\n          endDate: obj.date[1]\r\n        }\r\n      }).then(res => {\r\n        if (res.data.code == 200) {\r\n          const keyMap = [];\r\n          if (obj.url === \"/getOnLine\") {\r\n            obj.data = res.data.data.map(item => {\r\n              keyMap.push(item.productName);\r\n              return {\r\n                value: item.count,\r\n                name: item.productName\r\n              };\r\n            });\r\n          } else {\r\n            obj.data = res.data.data.map(item => {\r\n              keyMap.push(item.hospital);\r\n              return {\r\n                value: item.value,\r\n                name: item.hospital\r\n              };\r\n            });\r\n          }\r\n          obj.keys = keyMap;\r\n          this.$nextTick(() => {\r\n            init();\r\n          });\r\n        } else {\r\n          this.$message({\r\n            type: \"error\",\r\n            message: \"销售额数据获取失败\"\r\n          });\r\n        }\r\n      });\r\n    },\r\n    changeMonth(type) {\r\n      let date = new Date(\r\n        type === 0 ? this.offline.date[1] : this.online.date[1]\r\n      );\r\n      let month = date.getMonth() + 1;\r\n      let year = date.getFullYear();\r\n      let day = new Date(year, month, 0);\r\n      let endTime = year + \"/\" + month + \"/\" + day.getDate();\r\n      if (type === 0) {\r\n        this.offline.date[1] = endTime;\r\n        this.getData(this.offline, this.offlineEcharts);\r\n      } else {\r\n        this.online.date[1] = endTime;\r\n        this.getData(this.online, this.onlineEcharts);\r\n      }\r\n    },\r\n    dateInit() {\r\n      const date = new Date();\r\n      const nowMonth = date.getFullYear() + \"/\" + (date.getMonth() + 1) + \"/\";\r\n      this.online.date = [nowMonth + \"01\", nowMonth + \"28\"];\r\n      this.offline.date = [nowMonth + \"01\", nowMonth + \"28\"];\r\n    }\r\n  },\r\n  created() {\r\n    this.$openLoading();\r\n    this.dateInit();\r\n  },\r\n  mounted() {\r\n    Promise.all([\r\n      this.getData(this.online, this.onlineEcharts),\r\n      this.getData(this.offline, this.offlineEcharts)\r\n    ]).then(res => {\r\n      setTimeout(() => {\r\n        this.$openLoading().close();\r\n      }, 200);\r\n    });\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"less\">\r\n.charts {\r\n  width: 600px;\r\n  height: 400px;\r\n  margin: 0 auto;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./dataAnalysis.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./dataAnalysis.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./dataAnalysis.vue?vue&type=template&id=1b3af6c8&\"\nimport script from \"./dataAnalysis.vue?vue&type=script&lang=js&\"\nexport * from \"./dataAnalysis.vue?vue&type=script&lang=js&\"\nimport style0 from \"./dataAnalysis.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./dataAnalysis.vue?vue&type=style&index=0&lang=less&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"card-warpper\"},[_c('header',{staticClass:\"card-header\"},[_c('span',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.title))])]),_c('div',{staticClass:\"card-content\"},[_vm._t(\"default\")],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <section class=\"card-warpper\">\r\n    <header class=\"card-header\">\r\n      <span class=\"title\">{{ title }}</span>\r\n    </header>\r\n    <div class=\"card-content\">\r\n      <slot></slot>\r\n    </div>\r\n  </section>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: {\r\n    title: {\r\n      type: String\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"less\">\r\n.card-warpper {\r\n  background-color: #fff;\r\n  width: 100%;\r\n  margin: 0 auto;\r\n  margin-top: 40px;\r\n  position: relative;\r\n  border-radius: 3px;\r\n  box-shadow: 0 2px 12px 0 rgba(0, 0, 0, 0.1);\r\n  color: #606266;\r\n\r\n  .card-header {\r\n    line-height: 2.8rem;\r\n    text-align: left;\r\n    padding: 0 20px;\r\n    font-weight: 500;\r\n    font-size: 1.3rem;\r\n    background-color: #fbfbfb;\r\n    border-bottom: 1px solid #efefef;\r\n  }\r\n\r\n  .card-content {\r\n    padding: 20px 30px;\r\n    text-align: left;\r\n  }\r\n\r\n  .card-btn {\r\n    position: absolute;\r\n    right: 20px;\r\n    top: 6px;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./card.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./card.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./card.vue?vue&type=template&id=486d0a65&\"\nimport script from \"./card.vue?vue&type=script&lang=js&\"\nexport * from \"./card.vue?vue&type=script&lang=js&\"\nimport style0 from \"./card.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}