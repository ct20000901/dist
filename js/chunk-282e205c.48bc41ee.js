(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-282e205c"],{"0522":function(t,e,a){},"3e2a":function(t,e,a){},9889:function(t,e,a){"use strict";a("0522")},c923:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"mechanism-wrapper"},[a("card",{attrs:{title:"线下销售额统计（分医院）"}},[a("div",{staticClass:"data-pick-wrapper"},[a("span",[t._v("选择日期: ")]),a("el-date-picker",{attrs:{type:"monthrange","range-separator":"至","start-placeholder":"开始月份","end-placeholder":"结束月份",format:"yyyy 年 MM 月","value-format":"yyyy/MM/dd"},on:{change:function(e){return t.changeMonth(0)}},model:{value:t.offline.date,callback:function(e){t.$set(t.offline,"date",e)},expression:"offline.date"}})],1),a("div",{staticClass:"charts",attrs:{id:"offline"}})]),a("card",{attrs:{title:"线上销售额统计（分产品数量）"}},[a("div",{staticClass:"data-pick-wrapper"},[a("span",[t._v("选择日期:")]),a("el-date-picker",{attrs:{type:"monthrange","range-separator":"至","start-placeholder":"开始月份","end-placeholder":"结束月份",format:"yyyy 年 MM 月","value-format":"yyyy/MM/dd"},on:{change:function(e){return t.changeMonth(1)}},model:{value:t.online.date,callback:function(e){t.$set(t.online,"date",e)},expression:"online.date"}})],1),a("div",{staticClass:"charts",attrs:{id:"online"}})])],1)},i=[],s=(a("d3b7"),a("ddb0"),a("d81d"),a("3ca3"),a("ff86")),r={components:{card:s["a"]},data:function(){return{online:{date:[],keys:[],data:[],url:"/getOnLine"},offline:{date:[],keys:[],data:[],url:"/getOffLine"},userRatioData:[]}},methods:{offlineEcharts:function(){var t=this.$echarts.init(document.getElementById("offline")),e={tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{orient:"vertical",left:"right",data:this.offline.keys},series:[{name:"销售额",type:"pie",radius:"55%",center:["50%","60%"],data:this.offline.data,emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]};t.setOption(e)},onlineEcharts:function(){var t=this.$echarts.init(document.getElementById("online")),e={tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{orient:"vertical",left:"left",data:this.online.keys},series:[{name:"访问来源",type:"pie",radius:"55%",center:["50%","60%"],data:this.online.data,emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]};t.setOption(e)},getData:function(t,e){var a=this;this.$axios({url:t.url,params:{startDate:t.date[0],endDate:t.date[1]}}).then((function(n){if(200==n.data.code){var i=[];"/getOnLine"===t.url?t.data=n.data.data.map((function(t){return i.push(t.productName),{value:t.count,name:t.productName}})):t.data=n.data.data.map((function(t){return i.push(t.hospital),{value:t.value,name:t.hospital}})),t.keys=i,a.$nextTick((function(){e()}))}else a.$message({type:"error",message:"销售额数据获取失败"})}))},changeMonth:function(t){var e=new Date(0===t?this.offline.date[1]:this.online.date[1]),a=e.getMonth()+1,n=e.getFullYear(),i=new Date(n,a,0),s=n+"/"+a+"/"+i.getDate();0===t?(this.offline.date[1]=s,this.getData(this.offline,this.offlineEcharts)):(this.online.date[1]=s,this.getData(this.online,this.onlineEcharts))},dateInit:function(){var t=new Date,e=t.getFullYear()+"/"+(t.getMonth()+1)+"/";this.online.date=[e+"01",e+"28"],this.offline.date=[e+"01",e+"28"]}},created:function(){this.$openLoading(),this.dateInit()},mounted:function(){var t=this;Promise.all([this.getData(this.online,this.onlineEcharts),this.getData(this.offline,this.offlineEcharts)]).then((function(e){setTimeout((function(){t.$openLoading().close()}),200)}))}},o=r,l=(a("d4f4"),a("2877")),c=Object(l["a"])(o,n,i,!1,null,null,null);e["default"]=c.exports},d4f4:function(t,e,a){"use strict";a("3e2a")},ff86:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"card-warpper"},[a("header",{staticClass:"card-header"},[a("span",{staticClass:"title"},[t._v(t._s(t.title))])]),a("div",{staticClass:"card-content"},[t._t("default")],2)])},i=[],s={props:{title:{type:String}}},r=s,o=(a("9889"),a("2877")),l=Object(o["a"])(r,n,i,!1,null,null,null);e["a"]=l.exports}}]);
//# sourceMappingURL=chunk-282e205c.48bc41ee.js.map