(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1b6a7492"],{"0522":function(e,t,a){},"260f":function(e,t,a){},3146:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"freight-wrapper"},[a("card",{attrs:{title:"运费管理"}},[a("el-button",{staticClass:"card-btn",attrs:{size:"small",type:"primary"},on:{click:e.editFreight}},[e._v(e._s(e.closeFlag?"完成":"编辑"))]),a("span",{staticClass:"freight-col"},[e._v(" 收费方式: "),a("el-radio-group",{on:{change:e.changeType},model:{value:e.type,callback:function(t){e.type=t},expression:"type"}},[a("el-radio-button",{attrs:{label:0}},[e._v("全部地区包邮")]),a("el-radio-button",{attrs:{label:1}},[e._v("满"+e._s(e.price)+"元包邮")]),a("el-radio-button",{attrs:{label:2}},[e._v("分地区计费")])],1)],1),a("br"),a("span",{staticClass:"freight-col"},[e._v(" 价格设置:满 "),a("el-popover",{attrs:{placement:"bottom",trigger:"hover",content:"点击右上角编辑按钮进行编辑",disabled:e.closeFlag}},[a("el-input-number",{attrs:{slot:"reference",precision:2,step:.1,disabled:!e.closeFlag},slot:"reference",model:{value:e.price,callback:function(t){e.price=t},expression:"price"}})],1),e._v(" 元包邮 ")],1),a("div",{staticClass:"freightTable-wrapper"},[a("table",{staticClass:"freightTable"},[a("tr",{staticClass:"tableHeader"},[a("td",[e._v("地区")]),a("td",[e._v("价格")]),a("td",[e._v("地区")]),a("td",[e._v("价格")]),a("td",[e._v("地区")]),a("td",[e._v("价格")])]),e._l(e.rowCount,(function(t){return a("tr",{key:t},[a("td",{staticClass:"column"},[e._v(e._s(e.areaList[3*t-3].province))]),a("td",[a("el-input",{directives:[{name:"show",rawName:"v-show",value:e.closeFlag,expression:"closeFlag"}],attrs:{placeholder:"请输入内容",size:"small"},model:{value:e.areaList[3*t-3].money,callback:function(a){e.$set(e.areaList[3*t-3],"money",a)},expression:"areaList[index * 3 - 3].money"}}),a("span",{directives:[{name:"show",rawName:"v-show",value:!e.closeFlag,expression:"!closeFlag"}],staticStyle:{"line-height":"32px"}},[e._v(e._s(e.areaList[3*t-3].money))])],1),a("td",{staticClass:"column"},[e._v(" "+e._s(void 0!==e.areaList[3*t-2]?e.areaList[3*t-2].province:"")+" ")]),a("td",[void 0!==e.areaList[3*t-2]?a("el-input",{directives:[{name:"show",rawName:"v-show",value:e.closeFlag,expression:"closeFlag"}],attrs:{placeholder:"请输入内容",size:"small"},model:{value:e.areaList[3*t-2].money,callback:function(a){e.$set(e.areaList[3*t-2],"money",a)},expression:"areaList[index * 3 - 2].money"}}):e._e(),a("span",{directives:[{name:"show",rawName:"v-show",value:!e.closeFlag,expression:"!closeFlag"}],staticStyle:{"line-height":"32px"}},[e._v(e._s(void 0!==e.areaList[3*t-2]?e.areaList[3*t-2].money:""))])],1),a("td",{staticClass:"column"},[e._v(" "+e._s(void 0!==e.areaList[3*t-1]?e.areaList[3*t-1].province:"")+" ")]),a("td",[void 0!==e.areaList[3*t-1]?a("el-input",{directives:[{name:"show",rawName:"v-show",value:e.closeFlag,expression:"closeFlag"}],attrs:{placeholder:"请输入内容",size:"small"},model:{value:e.areaList[3*t-1].money,callback:function(a){e.$set(e.areaList[3*t-1],"money",a)},expression:"areaList[index * 3 - 1].money"}}):e._e(),a("span",{directives:[{name:"show",rawName:"v-show",value:!e.closeFlag,expression:"!closeFlag"}],staticStyle:{"line-height":"32px"}},[e._v(e._s(void 0!==e.areaList[3*t-1]?e.areaList[3*t-1].money:""))])],1)])}))],2)])],1)],1)},i=[],n=(a("4de4"),a("d3b7"),a("3ca3"),a("ddb0"),a("ff86")),r={components:{card:n["a"]},data:function(){return{type:3,price:0,closeFlag:!1,areaList:[]}},computed:{rowCount:function(){return Math.ceil(this.areaList.length/3)}},methods:{areaFilter:function(e){return this.areaList.filter((function(t,a){return a%3===e}))},editFreight:function(){var e=this;!0===this.closeFlag&&Promise.all([this.changeShippingAmount(),this.changeAreaAmount()]).then((function(t){200==t.data.code?e.$message({type:"success",message:"修改成功"}):e.$message({type:"error",message:t.data.msg})})),this.closeFlag=!this.closeFlag},changeShippingAmount:function(){return this.$axios({url:"/changeShippingAmount",params:{amount:this.price}})},changeAreaAmount:function(){return this.$axios({url:"/updateShipping",method:"post",transformRequest:[function(e){return JSON.stringify(e)}],data:this.areaList,headers:{"Content-Type":"application/json"}})},changeType:function(){var e=this;this.$axios({url:"/changeShippingType",params:{type:this.type}}).then((function(t){200==t.data.code?e.$message({type:"success",message:"修改收费方式成功"}):e.$message({type:"error",message:"请求发生错误"})})).catch((function(t){e.$message({type:"error",message:"修改失败，请检查网络"})}))},getShipping:function(e){var t=this;return this.$axios({url:"/getShippingAmount",params:{type:e}}).then((function(a){200==a.data.code?1==e?t.price=a.data.data:t.areaList=a.data.data:t.$message({type:"error",message:"请求发生错误"})})).catch((function(e){t.$message({type:"error",message:"信息获取失败"})}))},getType:function(){var e=this;return this.$axios({url:"/getShippingType"}).then((function(t){200==t.data.code?e.type=t.data.data:e.$message({type:"error",message:"请求发生错误"})})).catch((function(t){e.$message({type:"error",message:"收费方式获取失败"})}))}},created:function(){var e=this;this.$openLoading(),Promise.all([this.getShipping(1),this.getShipping(2),this.getType()]).then((function(t){setTimeout((function(){e.$openLoading().close()}),200)}))}},o=r,l=(a("3956"),a("2877")),c=Object(l["a"])(o,s,i,!1,null,null,null);t["default"]=c.exports},3956:function(e,t,a){"use strict";a("260f")},"4de4":function(e,t,a){"use strict";var s=a("23e7"),i=a("b727").filter,n=a("1dde"),r=n("filter");s({target:"Array",proto:!0,forced:!r},{filter:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},9889:function(e,t,a){"use strict";a("0522")},ff86:function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"card-warpper"},[a("header",{staticClass:"card-header"},[a("span",{staticClass:"title"},[e._v(e._s(e.title))])]),a("div",{staticClass:"card-content"},[e._t("default")],2)])},i=[],n={props:{title:{type:String}}},r=n,o=(a("9889"),a("2877")),l=Object(o["a"])(r,s,i,!1,null,null,null);t["a"]=l.exports}}]);
//# sourceMappingURL=chunk-1b6a7492.e379c629.js.map